<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>A Very Auspicious Housewarming</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,700;0,900;1,400&family=Space+Mono:wght@400;700&family=Noto+Serif+SC:wght@400;700&display=swap" rel="stylesheet">
  <style>
    *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

    :root {
      --cream:       #EFE6D8;
      --off-white:   #F7F1E8;
      --red:         #C82020;
      --dark-red:    #8B1212;
      --brown:       #4A2C1A;
      --gold:        #C49A38;
      --light-gold:  #E8D090;
      --purple:      #8060A0;
      --dark-purple: #5A4070;
    }

    html { scroll-behavior: smooth; }

    body {
      background: var(--cream);
      color: var(--brown);
      font-family: 'Space Mono', 'Courier New', monospace;
      overflow-x: hidden;
    }

    body::after {
      content: '';
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 9999;
      opacity: 0.45;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='250' height='250'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.80' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='250' height='250' filter='url(%23n)' opacity='0.07'/%3E%3C/svg%3E");
    }

    /* ── HERO ─────────────────────────────────────── */
    .hero {
      min-height: 100vh;
      position: relative;
      display: grid;
      grid-template-columns: 52% 1fr;
      align-items: center;
      overflow: hidden;
      padding: 60px 6vw 80px 7vw;
    }

    .hero-text { position: relative; z-index: 10; }

    .eyebrow {
      font-size: 9px;
      letter-spacing: 0.35em;
      text-transform: uppercase;
      opacity: 0.5;
      margin-bottom: 18px;
      animation: fadeUp 0.7s ease 0.1s both;
    }

    .hero-title {
      font-family: 'Playfair Display', Georgia, serif;
      font-weight: 900;
      /* Sized so "Auspicious" (10 chars) fits in ~50% viewport */
      font-size: clamp(40px, 6.2vw, 80px);
      line-height: 0.92;
      text-transform: uppercase;
      letter-spacing: -0.025em;
      margin-bottom: 28px;
      animation: fadeUp 0.7s ease 0.25s both;
    }

    .hero-sub {
      font-size: clamp(8px, 0.85vw, 11px);
      letter-spacing: 0.18em;
      text-transform: uppercase;
      line-height: 1.9;
      opacity: 0.65;
      margin-bottom: 48px;
      animation: fadeUp 0.7s ease 0.4s both;
      /* must sit above .date-block (which comes later in DOM) */
      position: relative;
      z-index: 1;
    }

    /* Jook Sing tooltip */
    .js-trigger {
      position: relative;
      cursor: help;
      display: inline-block;
      border-bottom: 1px dotted rgba(74, 44, 26, 0.55);
      padding-bottom: 1px;
    }

    .js-tooltip {
      position: absolute;
      top: calc(100% + 10px);
      left: 50%;
      transform: translateX(-50%) translateY(6px);
      width: 280px;
      background: var(--off-white);
      border: 1px solid rgba(74, 44, 26, 0.12);
      padding: 16px 18px;
      display: flex;
      gap: 14px;
      align-items: flex-start;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.4s ease, transform 0.4s ease;
      z-index: 100;
      box-shadow: 0 8px 28px rgba(74, 44, 26, 0.1);
      z-index: 9990;
    }

    /* left-edge arrow */
    .js-tooltip::before {
      content: '';
      position: absolute;
      top: -5px;
      left: 50%;
      transform: translateX(-50%);
      width: 8px;
      height: 8px;
      background: var(--off-white);
      border-top: 1px solid rgba(74,44,26,0.12);
      border-left: 1px solid rgba(74,44,26,0.12);
      rotate: 45deg;
    }

    .js-trigger:hover .js-tooltip,
    .js-trigger.open   .js-tooltip {
      opacity: 1;
      pointer-events: auto;
      transform: translateX(-50%) translateY(0);
    }


    .js-bamboo { flex-shrink: 0; width: 36px; }

    .js-text {
      font-size: 8.5px;
      letter-spacing: 0.1em;
      line-height: 1.85;
      text-transform: uppercase;
      opacity: 0.82;
    }

    .js-text strong {
      display: block;
      font-size: 10px;
      letter-spacing: 0.14em;
      margin-bottom: 5px;
      opacity: 1;
      font-style: italic;
    }

    .date-block {
      animation: fadeUp 0.7s ease 0.55s both;
    }

    .date-dow {
      font-size: clamp(13px, 1.5vw, 20px);
      font-weight: 700;
      letter-spacing: 0.48em;
      text-transform: uppercase;
      opacity: 0.75;
      margin-bottom: 8px;
      display: block;
    }

    .date-nums-hero {
      font-family: 'Playfair Display', serif;
      font-weight: 700;
      font-size: clamp(44px, 6.5vw, 80px);
      line-height: 1;
      letter-spacing: -0.02em;
      margin-bottom: 10px;
    }

    .date-time-line {
      font-family: 'Playfair Display', serif;
      font-size: clamp(16px, 2vw, 22px);
      font-weight: 700;
      opacity: 0.75;
    }

    .scroll-hint {
      position: absolute;
      bottom: 32px;
      left: 7vw;
      font-size: 9px;
      letter-spacing: 0.28em;
      text-transform: uppercase;
      opacity: 0.4;
      display: flex;
      align-items: center;
      gap: 12px;
      animation: fadeIn 1s ease 2s both;
    }
    .scroll-line {
      width: 32px;
      height: 1px;
      background: currentColor;
      animation: pulse-line 2.2s ease-in-out infinite;
    }
    @keyframes pulse-line {
      0%, 100% { width: 18px; opacity: 0.4; }
      50%       { width: 48px; opacity: 0.9; }
    }

    /* Lantern stage */
    #lantern-stage {
      position: relative;
      height: 100vh;
      pointer-events: none;
    }
    .l-item {
      position: absolute;
      transform-origin: 50% 3%;
    }
    .l-item.clickable { pointer-events: all; cursor: pointer; }

    .l-item img {
      width: 100%;
      display: block;
      opacity: 0;
      transition: opacity 0.4s ease, filter 0.3s ease;
    }
    .l-item img.img-loaded { opacity: 1; }
    .l-item.clickable:hover img { filter: brightness(1.12); }

    .sw-a { animation: sway-a 4.4s ease-in-out infinite; }
    .sw-b { animation: sway-b 5.9s ease-in-out infinite; }
    .sw-c { animation: sway-a 5.2s ease-in-out infinite; }
    .sw-d { animation: sway-b 6.6s ease-in-out infinite; }

    @keyframes sway-a {
      0%, 100% { transform: rotate(-2.5deg); }
      50%       { transform: rotate( 2.5deg); }
    }
    @keyframes sway-b {
      0%, 100% { transform: rotate( 2deg); }
      50%       { transform: rotate(-2deg); }
    }


    /* ── DIVIDER ─────────────────────────────────── */
    .divider {
      display: flex;
      align-items: center;
      gap: 20px;
      padding: 0 7vw;
    }
    .div-line { flex: 1; height: 1px; background: var(--brown); opacity: 0.18; }
    .div-sym  { color: var(--red); font-size: 18px; opacity: 0.5; }

    /* ── MENU ────────────────────────────────────── */
    .menu-section {
      padding: 80px 7vw 100px;
      background: var(--off-white);
    }

    .sec-eyebrow { font-size: 9px; letter-spacing: 0.38em; text-transform: uppercase; opacity: 0.45; margin-bottom: 10px; }

    .sec-title {
      font-family: 'Playfair Display', serif;
      font-weight: 900;
      font-size: clamp(38px, 5.5vw, 64px);
      line-height: 0.95;
      text-transform: uppercase;
      margin-bottom: 14px;
    }

    .sec-hint {
      font-size: 10px;
      letter-spacing: 0.14em;
      text-transform: uppercase;
      opacity: 0.55;
      margin-bottom: 56px;
    }

    .menu-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 20px;
    }

    /* Flip card */
    .m-card {
      perspective: 1100px;
      height: 210px;
      cursor: pointer;
    }

    .m-inner {
      position: relative;
      width: 100%;
      height: 100%;
      transform-style: preserve-3d;
      transition: transform 0.72s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .m-card:hover .m-inner,
    .m-card.flipped .m-inner {
      transform: rotateY(180deg);
    }

    .m-front, .m-back {
      position: absolute;
      inset: 0;
      backface-visibility: hidden;
      border: 1px solid rgba(74, 44, 26, 0.1);
    }

    /* Front: centered, name is the hero */
    .m-front {
      background: var(--cream);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 28px 26px 36px;
    }

    .m-num {
      position: absolute;
      top: 16px;
      left: 20px;
      font-size: 8px;
      letter-spacing: 0.3em;
      text-transform: uppercase;
      opacity: 0.35;
    }

    .m-en-name {
      font-family: 'Playfair Display', serif;
      font-size: clamp(19px, 2.3vw, 27px);
      font-weight: 700;
      font-style: italic;
      line-height: 1.15;
      margin-bottom: 10px;
    }

    .m-dish {
      font-size: 8.5px;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      opacity: 0.48;
    }

    .m-cue {
      position: absolute;
      bottom: 14px;
      right: 18px;
      font-size: 8px;
      letter-spacing: 0.22em;
      text-transform: uppercase;
      opacity: 0.28;
    }

    /* Back face */
    .m-back {
      background: var(--red);
      color: var(--light-gold);
      transform: rotateY(180deg);
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      padding: 26px 28px;
    }

    .m-zh {
      font-family: 'Noto Serif SC', 'STSong', serif;
      font-size: clamp(28px, 3.4vw, 42px);
      font-weight: 700;
      letter-spacing: 0.04em;
      line-height: 1.2;
      color: var(--light-gold);
    }

    .m-rom { font-size: 10px; letter-spacing: 0.15em; opacity: 0.62; margin-top: 5px; }

    .m-pun {
      font-size: 9px;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      line-height: 1.75;
      opacity: 0.8;
      border-top: 1px solid rgba(232, 208, 144, 0.25);
      padding-top: 14px;
    }

    /* ── ACTIVITIES ──────────────────────────────── */
    .act-section {
      padding: 80px 7vw;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 60px;
      align-items: center;
    }

    .act-list { list-style: none; margin-top: 24px; }
    .act-list li {
      font-size: 10px;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      padding: 14px 0;
      border-bottom: 1px solid rgba(74, 44, 26, 0.1);
      display: flex;
      align-items: center;
      gap: 16px;
    }
    .act-list li::before { content: '✦'; color: var(--red); font-size: 7px; flex-shrink: 0; }

    #act-lanterns { position: relative; height: 280px; pointer-events: none; }

    /* ── FOOTER / DETAILS ────────────────────────── */
    .details-section {
      background: var(--brown);
      color: var(--cream);
      padding: 80px 7vw;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 60px;
      align-items: center;
    }

    .d-label { font-size: 8px; letter-spacing: 0.38em; text-transform: uppercase; opacity: 0.45; margin-bottom: 8px; }
    .d-val {
      font-family: 'Playfair Display', serif;
      font-size: clamp(15px, 1.8vw, 20px);
      font-weight: 700;
      line-height: 1.5;
      margin-bottom: 30px;
    }

    .countdown { display: flex; gap: 24px; margin-top: 6px; margin-bottom: 36px; }
    .cd-unit { text-align: center; }
    .cd-num {
      font-family: 'Playfair Display', serif;
      font-size: clamp(28px, 3.5vw, 44px);
      font-weight: 700;
      line-height: 1;
      display: block;
    }
    .cd-lbl { font-size: 8px; letter-spacing: 0.25em; text-transform: uppercase; opacity: 0.45; display: block; margin-top: 4px; }

    .rsvp-btn {
      display: inline-block;
      border: 1.5px solid var(--gold);
      color: var(--gold);
      padding: 15px 38px;
      font-family: 'Space Mono', monospace;
      font-size: 9px;
      letter-spacing: 0.32em;
      text-transform: uppercase;
      cursor: pointer;
      background: transparent;
      transition: color 0.3s, background 0.3s, border-color 0.3s;
      position: relative;
      overflow: hidden;
    }
    .rsvp-btn::before {
      content: '';
      position: absolute;
      inset: 0;
      background: var(--gold);
      transform: translateX(-100%);
      transition: transform 0.3s ease;
      z-index: -1;
    }
    .rsvp-btn:hover { color: var(--brown); border-color: var(--brown); }
    .rsvp-btn:hover::before { transform: translateX(0); }

    .footer-ghost {
      font-family: 'Playfair Display', serif;
      font-weight: 900;
      font-size: clamp(30px, 5.5vw, 66px);
      line-height: 0.92;
      text-transform: uppercase;
      opacity: 0.1;
      text-align: right;
      pointer-events: none;
      user-select: none;
    }

    /* ── ANIMATIONS ──────────────────────────────── */
    @keyframes fadeUp  { from { opacity: 0; transform: translateY(22px); } to { opacity: 1; transform: none; } }
    @keyframes fadeIn  { from { opacity: 0; } to { opacity: 1; } }

    .reveal {
      opacity: 0;
      transform: translateY(22px);
      transition: opacity 0.75s ease, transform 0.75s ease;
    }
    .reveal.visible { opacity: 1; transform: none; }

    .stagger > * {
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.6s ease, transform 0.6s ease;
    }
    .stagger.visible > *:nth-child(1) { transition-delay: 0s;     opacity: 1; transform: none; }
    .stagger.visible > *:nth-child(2) { transition-delay: 0.11s;  opacity: 1; transform: none; }
    .stagger.visible > *:nth-child(3) { transition-delay: 0.22s;  opacity: 1; transform: none; }
    .stagger.visible > *:nth-child(4) { transition-delay: 0.33s;  opacity: 1; transform: none; }
    .stagger.visible > *:nth-child(5) { transition-delay: 0.44s;  opacity: 1; transform: none; }
    .stagger.visible > *:nth-child(6) { transition-delay: 0.55s;  opacity: 1; transform: none; }

    @keyframes sparkle-fly {
      0%   { transform: translate(0, 0) scale(1.2); opacity: 1; }
      100% { transform: translate(var(--dx), var(--dy)) scale(0); opacity: 0; }
    }

    .particle {
      position: fixed;
      pointer-events: none;
      z-index: 9998;
      border-radius: 2px;
      animation: particle-fall linear forwards;
    }
    @keyframes particle-fall {
      0%   { transform: translateY(-10px) rotate(0deg); opacity: 1; }
      100% { transform: translateY(105vh) rotate(800deg); opacity: 0; }
    }

    /* RSVP form elements */
    .rsvp-input {
      background: transparent;
      border: none;
      border-bottom: 1.5px solid rgba(196, 154, 56, 0.45);
      color: var(--cream);
      font-family: 'Space Mono', monospace;
      font-size: 11px;
      letter-spacing: 0.2em;
      padding: 10px 0;
      width: 100%;
      max-width: 280px;
      outline: none;
      margin-bottom: 20px;
      display: block;
    }
    .rsvp-input::placeholder { color: var(--cream); opacity: 0.38; }
    .rsvp-input:focus { border-bottom-color: var(--gold); }
    .rsvp-input.error { border-bottom-color: var(--red); }

    .rsvp-success {
      font-size: 11px;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      color: var(--gold);
      line-height: 1.8;
    }

    .cal-link {
      display: inline-block;
      margin-top: 18px;
      font-size: 8px;
      letter-spacing: 0.22em;
      text-transform: uppercase;
      color: var(--cream);
      opacity: 0.4;
      text-decoration: none;
      border-bottom: 1px solid rgba(232, 208, 144, 0.2);
      padding-bottom: 2px;
      transition: opacity 0.25s;
    }
    .cal-link:hover { opacity: 0.75; }

    /* RSVP card — white before submit, red after */
    .rsvp-box {
      background: var(--off-white);
      color: var(--brown);
      padding: 26px 28px 22px;
      margin-bottom: 36px;
      max-width: 340px;
      box-shadow: 0 8px 40px rgba(0,0,0,0.3);
      border: 2px solid var(--gold);
      transition: background 0.6s ease, color 0.6s ease, border-color 0.6s ease;
    }
    .rsvp-card-lbl {
      font-size: 11px;
      letter-spacing: 0.3em;
      text-transform: uppercase;
      opacity: 0.55;
      margin-bottom: 8px;
    }
    .rsvp-card-title {
      font-family: 'Playfair Display', serif;
      font-size: clamp(26px, 3vw, 38px);
      font-weight: 700;
      font-style: italic;
      color: var(--brown);
      line-height: 1.15;
      margin-bottom: 6px;
      transition: color 0.6s ease;
    }
    .rsvp-box .rsvp-input {
      color: var(--brown);
      border-bottom-color: var(--gold);
    }
    .rsvp-box .rsvp-input::placeholder { color: var(--brown); opacity: 0.38; }
    .rsvp-box .rsvp-input:focus { border-bottom-color: var(--brown); }
    .rsvp-box .rsvp-input.error { border-bottom-color: var(--red); }
    .rsvp-box .rsvp-success { color: var(--light-gold); }
    .rsvp-box .cal-link { color: var(--brown); opacity: 0.55; border-bottom-color: rgba(74, 44, 26, 0.2); transition: color 0.6s ease; }
    .rsvp-note {
      font-size: 8px;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      color: var(--brown);
      opacity: 0.45;
      margin: 0 0 14px;
    }
    .rsvp-rule {
      border: none;
      border-top: 1px solid rgba(74, 44, 26, 0.18);
      margin: 0 0 18px;
    }

    /* After RSVP submitted — flip to red */
    .rsvp-box.submitted {
      background: var(--red);
      color: var(--light-gold);
      border-color: rgba(232, 208, 144, 0.2);
    }
    .rsvp-box.submitted .rsvp-card-title {
      color: var(--light-gold);
      border-color: var(--red);
    }
    .rsvp-box.submitted .rsvp-card-lbl { color: var(--light-gold); }
    .rsvp-box.submitted .cal-link { color: var(--light-gold); opacity: 0.5; }
    .rsvp-box.submitted .rsvp-note,
    .rsvp-box.submitted .rsvp-rule { display: none; }

    /* Title line break — hidden on desktop, shown on mobile */
    .title-br { display: none; }

    /* Mobile hero lanterns — hidden on desktop */
    .hero-lm-1, .hero-lm-2, .hero-lm-3 { display: none; }

    /* ── RESPONSIVE ──────────────────────────────── */
    @media (max-width: 800px) {
      .hero { grid-template-columns: 1fr; padding: 44px 6vw 80px; }
      #lantern-stage { display: none; }

      /* Three lanterns on mobile hero */
      .hero-lm-1 {
        display: block;
        position: absolute;
        top: -50px;
        right: -60px;
        width: 260px;
        pointer-events: none;
        z-index: 3;
      }
      .hero-lm-2 {
        display: block;
        position: absolute;
        top: 100px;
        right: -120px;
        width: 390px;
        pointer-events: none;
        z-index: 2;
        animation-delay: -1.5s;
      }
      .hero-lm-3 {
        display: block;
        position: absolute;
        bottom: -60px;
        right: -90px;
        width: 410px;
        pointer-events: none;
        z-index: 1;
        animation-delay: -0.8s;
      }
      .hero-sub,
      .eyebrow {
        text-shadow: 0 0 4px #EFE6D8, 0 0 4px #EFE6D8, 0 0 4px #EFE6D8, 0 0 8px #EFE6D8, 0 0 16px #EFE6D8, 0 0 32px #EFE6D8, 0 0 48px #EFE6D8;
      }
      .hero-title {
        text-shadow: none;
      }

      .title-br { display: inline; }

      .menu-grid { grid-template-columns: 1fr; }
      .menu-grid { grid-template-columns: 1fr; }
      .m-card { width: 100%; height: 210px; }
      .m-inner { transition: none; }
      .m-card:hover .m-inner { transform: none; }
      .m-card .m-back { display: none; transform: none; backface-visibility: visible; }
      .m-card.flipped .m-front { display: none; }
      .m-card.flipped .m-back  { display: flex; transform: none; backface-visibility: visible; }
      .m-card.flipped .m-inner { transform: none; }
      .act-section { grid-template-columns: 1fr; }
      #act-lanterns { display: block; height: 200px; }
      .details-section { grid-template-columns: 1fr; }
      .js-tooltip { left: 0; transform: translateX(0) translateY(6px); width: 260px; }
      .js-trigger:hover .js-tooltip, .js-trigger.open .js-tooltip { transform: translateX(0) translateY(0); }
    }
  </style>
</head>
<body>

<!-- Font preloader: forces Noto Serif SC to download before any card is flipped -->
<div aria-hidden="true" style="position:absolute;opacity:0;pointer-events:none;font-family:'Noto Serif SC',serif;font-weight:700;font-size:1px;">字</div>

<!-- ═══════════════════════════════
     HERO
═══════════════════════════════ -->
<section class="hero">
  <div class="hero-text">
    <p class="eyebrow">You are cordially invited to</p>

    <h1 class="hero-title">
      A&nbsp;Very<br>
      Auspicious<br>
      House<span class="title-br"><br></span>warming
    </h1>


    <p class="hero-sub">
      Lydia's very overdue housewarming <br>and Lunar New Year Party.<br> <br>
      A <span class="js-trigger" onclick="this.classList.toggle('open')" tabindex="0">Jook&nbsp;Sing's
        <span class="js-tooltip" role="tooltip">
          <!-- Bamboo SVG -->
          <svg class="js-bamboo" viewBox="0 0 48 88" xmlns="http://www.w3.org/2000/svg" fill="none">
            <!-- Left stalk -->
            <rect x="7" y="10" width="10" height="58" rx="5" fill="#4A7A4E"/>
            <rect x="6" y="28" width="12" height="4"  rx="2" fill="#2D5030"/>
            <rect x="6" y="48" width="12" height="4"  rx="2" fill="#2D5030"/>
            <rect x="6" y="63" width="12" height="4"  rx="2" fill="#2D5030"/>
            <!-- Left leaves -->
            <ellipse cx="22" cy="24" rx="11" ry="3.5" fill="#5A8A5A" transform="rotate(-38 22 24)"/>
            <ellipse cx="4"  cy="44" rx="10" ry="3"   fill="#5A8A5A" transform="rotate(32 4 44)"/>
            <!-- Right stalk -->
            <rect x="30" y="2"  width="10" height="68" rx="5" fill="#3D6640"/>
            <rect x="29" y="20" width="12" height="4"  rx="2" fill="#2D5030"/>
            <rect x="29" y="40" width="12" height="4"  rx="2" fill="#2D5030"/>
            <rect x="29" y="58" width="12" height="4"  rx="2" fill="#2D5030"/>
            <!-- Right leaves -->
            <ellipse cx="44" cy="17" rx="11" ry="3.5" fill="#5A8A5A" transform="rotate(-30 44 17)"/>
            <ellipse cx="26" cy="36" rx="10" ry="3"   fill="#5A8A5A" transform="rotate(30 26 36)"/>
            <ellipse cx="44" cy="54" rx="10" ry="3"   fill="#5A8A5A" transform="rotate(-26 44 54)"/>
          </svg>
          <span class="js-text">
            <strong>竹升 · Jook Sing</strong>
            A Cantonese identifier for overseas Chinese. The bamboo stem is hollow and divided into compartments — water poured in one end won't flow to the other. 兩頭都不通: can't get through either side.
          </span>
        </span>
      </span> interpretation of<br>
      Chinese traditions.
    </p>

    <div class="date-block">
      <div class="date-dow">Saturday</div>
      <div class="date-nums-hero">02.28.26</div>
      <div class="date-time-line">2–4 PM</div>
    </div>
  </div>

  <!-- Mobile-only: three lanterns -->
  <div class="l-item sw-a hero-lm-1">
    <img src="lantern-a.png" alt="" draggable="false">
  </div>
  <div class="l-item sw-b hero-lm-2">
    <img src="lantern-b.png" alt="" draggable="false">
  </div>
  <div class="l-item sw-c hero-lm-3">
    <img src="lantern-c.png" alt="" draggable="false">
  </div>

  <div id="lantern-stage">
    <!-- lantern-a (round): now top — sits above everything -->
    <div class="l-item sw-a clickable" style="top:-90px;right:2%;width:340px;z-index:3;" onclick="sparkle(event,'#C82020')">
      <img src="lantern-a.png" alt="" draggable="false">
    </div>
    <!-- lantern-b (tall): now middle — overlaps bottom, under top -->
    <div class="l-item sw-b clickable" style="top:100px;right:14%;width:440px;animation-delay:-1.7s;z-index:2;" onclick="sparkle(event,'#C82020')">
      <img src="lantern-b.png" alt="" draggable="false">
    </div>
    <!-- lantern-c: bottom corner — behind both -->
    <div class="l-item sw-c clickable" style="bottom:-180px;right:-60px;width:560px;animation-delay:-0.8s;z-index:1;" onclick="sparkle(event,'#C82020')">
      <img src="lantern-c.png" alt="" draggable="false">
    </div>
  </div>

  <div class="scroll-hint">
    <span class="scroll-line"></span>
    scroll
  </div>
</section>

<div class="divider"><div class="div-line"></div></div>

<!-- ═══════════════════════════════
     MENU
═══════════════════════════════ -->
<section class="menu-section">
  <p class="sec-eyebrow reveal">A Veg Feast</p>
  <h2 class="sec-title reveal">The Menu</h2>
  <p class="sec-hint reveal">Bad puns and bad translations. <br>
     Click into the card to learn more about the origins.</p>

  <div class="menu-grid stagger">

    <!-- 01 Pineapple citrus punch -->
    <div class="m-card" onclick="this.classList.toggle('flipped')">
      <div class="m-inner">
        <div class="m-front">
          <div class="m-num">01 · Drink A</div>
          <div class="m-en-name">Punching Above your Weight</div>
          <div class="m-dish">Pineapple citrus punch</div>
          <div class="m-cue">flip →</div>
        </div>
        <div class="m-back">
          <div>
            <div class="m-zh">旺來出擊</div>
            <div class="m-rom">wàng lái chū jī</div>
          </div>
          <div class="m-pun">
            旺 (prosperity) + 來 (coming) = pineapple in Hokkien dialect.<br>
            橘 (tangerine) ≈ 吉 (luck) ≈ 擊 (to punch)<br>
            Prosperity walked in swinging.
          </div>
        </div>
      </div>
    </div>

    <!-- 02 Almond tea -->
    <div class="m-card" onclick="this.classList.toggle('flipped')">
      <div class="m-inner">
        <div class="m-front">
          <div class="m-num">02 · Drink B</div>
          <div class="m-en-name">Almond Joy Tea(rs)</div>
          <div class="m-dish">Chinese almond tea</div>
          <div class="m-cue">flip →</div>
        </div>
        <div class="m-back">
          <div>
            <div class="m-zh">幸福/杏苦茶</div>
            <div class="m-rom">xìng fú / xìng kǔ chá</div>
          </div>
          <div class="m-pun">
            幸 (luck) ≈ 杏 (almond). 幸福 = happiness<br>
            杏 + 苦(bitter) ≈ 辛苦 (hardship).<br>
            Joy AND tears — same cup, both true.<br>
            Technically made with apricot kernel.<br>
          </div>
        </div>
      </div>
    </div>

    <!-- 03 Cucumber -->
    <div class="m-card" onclick="this.classList.toggle('flipped')">
      <div class="m-inner">
        <div class="m-front">
          <div class="m-num">03 · Salad</div>
          <div class="m-en-name">Cool as a Cucumber</div>
          <div class="m-dish">Smashed cucumber salad</div>
          <div class="m-cue">flip →</div>
        </div>
        <div class="m-back">
          <div>
            <div class="m-zh">涼扮青瓜</div>
            <div class="m-rom">liángbàn qīngguā</div>
          </div>
          <div class="m-pun">
            拌 (to toss) ≈ 扮 (to pretend)<br>
            Previously titled "Smash the Patriarchy."<br>
            But pretending to be chill.
          </div>
        </div>
      </div>
    </div>

    <!-- 04 Cabbage rolls -->
    <div class="m-card" onclick="this.classList.toggle('flipped')">
      <div class="m-inner">
        <div class="m-front">
          <div class="m-num">04 · Veg</div>
          <div class="m-en-name">Rolling in the Greens</div>
          <div class="m-dish">Tofu stuffed cabbage rolls</div>
          <div class="m-cue">flip →</div>
        </div>
        <div class="m-back">
          <div>
            <div class="m-zh">菜運卷卷來</div>
            <div class="m-rom">cài yùn juǎn juǎn lái</div>
          </div>
          <div class="m-pun">
            菜(vegetable) ≈ 財 (wealth).<br>
            卷 (roll) ≈ 滾 (to roll)<br>
            Play on 財源滾滾來 (wealth rolling in)<br>
            Fortune has entered the chat.
          </div>
        </div>
      </div>
    </div>

    <!-- 05 Rice noodles -->
    <div class="m-card" onclick="this.classList.toggle('flipped')">
      <div class="m-inner">
        <div class="m-front">
          <div class="m-num">05 · Noods</div>
          <div class="m-en-name">Fan Behavior</div>
          <div class="m-dish">Mixed rice noodles</div>
          <div class="m-cue">flip →</div>
        </div>
        <div class="m-back">
          <div>
            <div class="m-zh">瘋狂粉絲</div>
            <div class="m-rom">fēng kuáng fěn sī</div>
          </div>
          <div class="m-pun">
            粉絲 = noodles. Also: fans.<br>
            瘋狂 = crazy. The noodles and the fans.<br>
            Traditionally long noodles = long life.<br>
            But life is short, and followers are forever.
          </div>
        </div>
      </div>
    </div>

    <!-- 06 Taiyaki -->
    <div class="m-card" onclick="this.classList.toggle('flipped')">
      <div class="m-inner">
        <div class="m-front">
          <div class="m-num">06 · Dessert</div>
          <div class="m-en-name">Fish-cally Responsible</div>
          <div class="m-dish">Taiyaki (Japanese fish-shaped pastry)</div>
          <div class="m-cue">flip →</div>
        </div>
        <div class="m-back">
          <div>
            <div class="m-zh">年年有魚燒</div>
            <div class="m-rom">nián nián yǒu yú shāo</div>
          </div>
          <div class="m-pun">
            魚 (fish) ≈ 餘 (surplus)<br>
            Play on 年年有餘 (annual surplus, every year)<br>
            Gotta have leftover fish.
          </div>
        </div>
      </div>
    </div>

  </div>
</section>

<div class="divider"><div class="div-line"></div></div>

<!-- ═══════════════════════════════
     ACTIVITIES
═══════════════════════════════ -->
<section class="act-section">
  <div>
    <p class="sec-eyebrow reveal">After you eat</p>
    <h2 class="sec-title reveal">Play &amp;<br>Linger</h2>
    <p class="reveal" style="font-size:10px;letter-spacing:0.14em;text-transform:uppercase;opacity:0.6;line-height:1.9;">
      New year, new house, old traditions —<br>loosely interpreted.
    </p>
    <ul class="act-list reveal">
      <li>Games to gamble your red envelope money away.</li>
      <li>More food. Obviously.</li>
      <li>Gossip like the aunties.</li>
    </ul>
  </div>
  <div id="act-lanterns" style="position:relative;height:280px;pointer-events:none;">
    <!-- mahjong tile — 發 (prosperity) -->
    <div class="l-item sw-b" style="top:-30px;left:2%;width:230px;animation-delay:-0.5s;transform-origin:50% 50%;">
      <img src="mahjong.png" alt="" draggable="false">
    </div>
    <!-- gold coins -->
    <div class="l-item sw-a" style="bottom:-20px;left:42%;width:168px;animation-delay:-1.4s;transform-origin:50% 50%;">
      <img src="coins.png" alt="" draggable="false">
    </div>
  </div>
</section>

<div class="divider"><div class="div-line"></div></div>

<!-- ═══════════════════════════════
     DETAILS + RSVP
═══════════════════════════════ -->
<section class="details-section">
  <div>
    <div class="rsvp-box">
      <div class="rsvp-card-title">RSVP &nbsp;報到</div>
      <p class="rsvp-note">No gifts, please. Your presence is the greatest gift of all!</p>
      <hr class="rsvp-rule">
      <div id="rsvp-form">
        <input
          type="text"
          id="rsvp-name"
          class="rsvp-input"
          placeholder="Your name"
          maxlength="60"
          autocomplete="name"
          onkeydown="if(event.key==='Enter')handleRSVP()"
        >
        <button class="rsvp-btn" id="rsvp-btn" onclick="handleRSVP()">I'm in &nbsp;✦&nbsp; 我會來</button>
      </div>
      <p class="rsvp-success" id="rsvp-success" style="display:none">
        到 — See you there, <span id="rsvp-name-display"></span>. ✦
      </p>

      <a
        href="https://calendar.google.com/calendar/render?action=TEMPLATE&text=Lydia%27s+Housewarming&dates=20260228T140000%2F20260228T160000&details=Lydia%27s+very+overdue+housewarming+and+Lunar+New+Year+Party.&location=Chicago%2C+IL"
        target="_blank"
        rel="noopener"
        class="cal-link"
      >+ Add to Google Calendar</a>
    </div>
    <p class="d-label">When</p>
    <p class="d-val">Saturday, February 28, 2026<br>2–4 PM</p>

    <p class="d-label">Where</p>
    <p class="d-val">4343 N. Clarendon Ave #2409<br>Chicago, IL, 60613</p>

    <p class="d-label">Counting down</p>
    <div class="countdown" id="countdown">
      <div class="cd-unit"><span class="cd-num" id="cd-d">–</span><span class="cd-lbl">days</span></div>
      <div class="cd-unit"><span class="cd-num" id="cd-h">–</span><span class="cd-lbl">hrs</span></div>
      <div class="cd-unit"><span class="cd-num" id="cd-m">–</span><span class="cd-lbl">min</span></div>
    </div>
  </div>

  <div class="footer-ghost">A Very<br>Auspicious<br>Housewarming</div>
</section>

<script>
/* ─────────────────────────────────────
   SPARKLE
───────────────────────────────────── */
function sparkle(e, baseColor) {
  const ox = e.clientX;
  const oy = e.clientY;
  const items  = ['✦','✧','★','福','春','✿','◈'];
  const colors = ['#C49A38','#E8D090','#FFD700', baseColor,'#FF8888'];

  for (let i = 0; i < 14; i++) {
    const sp = document.createElement('div');
    sp.textContent = items[Math.floor(Math.random() * items.length)];
    sp.style.cssText = `
      position:fixed; left:${ox}px; top:${oy}px;
      pointer-events:none; z-index:9998;
      font-size:${9 + Math.random()*13}px;
      color:${colors[Math.floor(Math.random()*colors.length)]};
      --dx:${(Math.random()-0.5)*130}px; --dy:${-50-Math.random()*90}px;
      animation:sparkle-fly ${0.7+Math.random()*0.5}s ease-out forwards;
      animation-delay:${Math.random()*0.15}s;
    `;
    document.body.appendChild(sp);
    setTimeout(() => sp.remove(), 1200);
  }
}

/* ─────────────────────────────────────
   COUNTDOWN
───────────────────────────────────── */
function tick() {
  const target = new Date('2026-02-28T14:00:00');
  const diff   = target - Date.now();
  if (diff <= 0) {
    document.getElementById('countdown').innerHTML =
      '<span style="font-size:13px;letter-spacing:0.18em;opacity:0.7">IT\'S TIME. GET THERE.</span>';
    return;
  }
  const d = Math.floor(diff / 864e5);
  const h = Math.floor((diff % 864e5) / 36e5);
  const m = Math.floor((diff % 36e5)  / 6e4);
  document.getElementById('cd-d').textContent = String(d).padStart(2,'0');
  document.getElementById('cd-h').textContent = String(h).padStart(2,'0');
  document.getElementById('cd-m').textContent = String(m).padStart(2,'0');
}

/* ─────────────────────────────────────
   RSVP
───────────────────────────────────── */
async function handleRSVP() {
  const nameEl = document.getElementById('rsvp-name');
  const name = nameEl.value.trim();

  if (!name) {
    nameEl.classList.add('error');
    nameEl.focus();
    nameEl.addEventListener('input', () => nameEl.classList.remove('error'), { once: true });
    return;
  }

  const btn = document.getElementById('rsvp-btn');
  btn.disabled = true;
  btn.textContent = '→ sending';

  // POST to Formspree — replace YOUR_FORM_ID after creating your free account at formspree.io
  try {
    await fetch('https://formspree.io/f/xbdawadb', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json', Accept: 'application/json' },
      body: JSON.stringify({ name })
    });
  } catch (_) { /* fail silently — still show success to guest */ }

  document.getElementById('rsvp-form').style.display = 'none';
  document.getElementById('rsvp-name-display').textContent = name;
  document.getElementById('rsvp-success').style.display = 'block';
  document.querySelector('.rsvp-box').classList.add('submitted');
  confettiBurst(60);
}

function confettiBurst(count) {
  const colors = ['#C82020','#8B1212','#C49A38','#E8D090'];
  for (let i = 0; i < count; i++) {
    setTimeout(() => {
      const p = document.createElement('div');
      p.className = 'particle';
      p.style.cssText = `
        left:${Math.random()*100}vw; top:-8px;
        width:${4+Math.random()*5}px; height:${4+Math.random()*5}px;
        background:${colors[Math.floor(Math.random()*colors.length)]};
        border-radius:${Math.random()>0.5?'50%':'2px'};
        animation-duration:${1.6+Math.random()*1.8}s;
        animation-delay:${Math.random()*0.4}s;
      `;
      document.body.appendChild(p);
      setTimeout(() => p.remove(), 3e3);
    }, i * 22);
  }
}

/* ─────────────────────────────────────
   SCROLL REVEAL
───────────────────────────────────── */
function initReveal() {
  const io = new IntersectionObserver(entries => {
    entries.forEach(e => {
      if (e.isIntersecting) { e.target.classList.add('visible'); io.unobserve(e.target); }
    });
  }, { threshold: 0.12 });
  document.querySelectorAll('.reveal, .stagger').forEach(el => io.observe(el));
}

/* ─────────────────────────────────────
   INIT
───────────────────────────────────── */
document.addEventListener('DOMContentLoaded', () => {

  tick();
  setInterval(tick, 60000);
  initReveal();

  setTimeout(() => confettiBurst(18), 1400);

  // Fade in images only when loaded — hide broken/slow images completely
  document.querySelectorAll('.l-item img').forEach(img => {
    if (img.complete && img.naturalWidth > 0) {
      img.classList.add('img-loaded');
    } else {
      img.addEventListener('load', () => img.classList.add('img-loaded'));
    }
  });

  // Close Jook Sing tooltip on tap outside
  document.addEventListener('click', function(e) {
    if (!e.target.closest('.js-trigger')) {
      document.querySelectorAll('.js-trigger.open').forEach(el => el.classList.remove('open'));
    }
  });
});
</script>
</body>
</html>
